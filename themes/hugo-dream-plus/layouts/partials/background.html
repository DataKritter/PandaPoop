<script>
var prevBgIndex = 0;
var bodyBgSwitchIndex = 0;
{{- if .Site.Params.enableColorBG -}}
	var gradients = [
	  ['#726C84', '#908AA1'], // oranges
	  ['#726C84', '#A79EB6'], // peaches
	  ['#726C84', '#736E86'], // peaches
	  ['#726C84', '#5E5A76'] // pinkorange
	]
	document.body.style.setProperty('--colorBG', connect(gradients[getRandomInt(0, gradients.length)]))
{{- else -}}
	{{- if .Site.Params.bgList -}}
		var images = {{- .Site.Params.bgList -}}
		var randomNumber = getRandomInt(0, images.length)
		bgImage = "url(" + images[randomNumber] + ")"
	{{ else }}
		var bgImage = "url(" + {{ .Site.Params.bgImage }} + ")"
	{{ end }}
	console.log("Current background: " + bgImage.substring(bgImage.indexOf("bg"), bgImage.length));
	document.body.style.setProperty('--blurEff', {{- .Site.Params.bgBlur -}});
	document.body.style.setProperty('--bgImage', bgImage);
{{ end }}
	function getRandomInt(min, max) {
	  min = Math.ceil(min)
	  max = Math.floor(max)
	  var random
	  while (1) {
	    random = Math.floor(Math.random() * (max - min)) + min
	    if (random !== prevBgIndex) {
	      prevBgIndex = random
	      break
	    }
	  }
	  return random
	}

	function connect(arr) {
	  var str = ''
	  for (var i = 0; i < arr.length; i++) {
	    if (i !== arr.length - 1) {
	      str += arr[i] + ', '
	    } else {
	      str += arr[i]
	    }
	  }
	  return str
	}
</script>
{{- if not .Site.Params.enableColorBG -}}
<div class="blur-overlay"></div>
{{- end -}}